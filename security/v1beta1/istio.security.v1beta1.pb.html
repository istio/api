---
title: istio.security.v1beta1
layout: protoc-gen-docs
generator: protoc-gen-docs
number_of_entries: 0
---
<p>$hide<em>from</em>docs
$title: Authorization Policy
$description: Configuration for access control on workloads.
$location: https://istio.io/docs/reference/config/security/v1beta1/authorization-policy.html</p>

<p>Istio Authorization Policy enables access control on workloads in the mesh.</p>

<p>For example, the following authorization policy applies to workloads matched with
label selector &ldquo;app: httpbin, version: v1&rdquo;.</p>

<p>It allows requests from:
- service account &ldquo;cluster.local/ns/default/sa/sleep&rdquo; or
- namespace &ldquo;test&rdquo;
to access the workload with:
- &ldquo;GET&rdquo; method at paths of prefix &ldquo;/info&rdquo; or,
- &ldquo;POST&rdquo; method at path &ldquo;/data&rdquo;.
when the request has a valid JWT token issued by &ldquo;istio.io&rdquo;.</p>

<p>Any other requests will be rejected.</p>

<pre><code class="language-yaml">apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
 name: httpbin
 namespace: foo
spec:
 selector:
   matchLabels:
     app: httpbin
     version: v1
 rules:
 - from:
   - source:
       principals: [“cluster.local/ns/default/sa/sleep&quot;]
   - source:
       namespaces: [“test”]
   to:
   - operation:
       methods: [“GET”]
       paths: [&quot;/info*&quot;]
   - operation:
       methods: [&quot;POST&quot;]
       paths: [&quot;/data&quot;]
   when:
   - key: request.auth.claims[iss]
     values: [“istio.io”]
</code></pre>

<p>Access control is enabled on a workload if there is any authorization policies selecting
the workload. When access control is enabled, the default behavior is deny (deny-by-default)
which means requests to the workload will be rejected if the request is not allowed by any of
the authorization policies selecting the workload.</p>

<p>Multiple authorization policies selecting the same workload are OR-ed together.
The effect of authorization policy is additive, more authorization policies
always allow more sources to access the workload.</p>

<p>Authorization policy could be specified in workload, namespace and mesh level.
- workload level: The selector is not empty and the namespace is not root namespace.
- namespace level: The selector is empty and the namespace is not root namespace.
- mesh level: The namespace is root namespace.</p>

<p>For example,</p>

<p>The following workload level authorization policy selects the workload with label
&ldquo;app: httpbin&rdquo; in namespace bar.</p>

<pre><code class="language-yaml">apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
 name: policy
 namespace: bar
spec:
 selector:
   matchLabels:
     app: httpbin
</code></pre>

<p>The following namespace level authorization policy selects all workloads in namespace foo.</p>

<pre><code class="language-yaml">apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
 name: policy
 namespace: foo
spec:
 selector:
   matchLabels: &lbrace;}
</code></pre>

<p>The following mesh level authorization policy selects workloads with label &ldquo;version: v1&rdquo;
in every namespaces. (the root namespace is configured to &ldquo;istio-config&rdquo;).</p>

<pre><code class="language-yaml">apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
 name: policy
 namespace: istio-config
spec:
 selector:
   matchLabels:
     version: v1
</code></pre>

